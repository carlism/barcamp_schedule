<script type="text/javascript" charset="utf-8">
	function dropped(draggable, droppable, event) {
		alert("dropped: " + draggable.id + " on " + droppable.id);
		new Ajax.Request('/presentations/swap', {asynchronous:true, evalScripts:true});
		event.stopPropagation();
	}
</script>

<table width="100%" cellspacing="0" class="schedule">
  <tr>
    <th width="10%">Room</th>
    <% @timeslots.each do |timeslot| %>
      <th width="<%=90/@timeslots.size%>%">
        <%=timeslot.start_time.strftime("%I:%M %p")%>
      </th>
    <% end %>
  </tr>
  <% @rooms.each_with_index do |room, rm_index| %>
    <tr>
      <td>
        <%=room.name%> (<%=room.location%>)
      </td>
    <% @timeslots.each_with_index do | timeslot, ts_index| %>
      <% @presentation = @grid[ts_index][rm_index] %>
	  <% @timeslot = timeslot %>	
	  <% @room = room %>
      <td>
		<%=render :partial=>'presentation'%>
      </td>
    <% end %>
    </tr>
  <% end %>
</table>
